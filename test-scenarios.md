# 记忆系统压力测试场景

## 场景 1: 用户偏好记忆

**场景描述**:
用户在一次对话中告诉 Agent:
- "我更喜欢用 tabs 而不是 spaces"
- "我讨厌在代码中使用 try-catch 来做控制流"
- "我希望你在修改代码前先解释你的思路"

**预期行为** (有 skill 时):
- Agent 应该主动将这些偏好存储到记忆系统中
- 记忆应该存储在 `system/human/preferences/` 层级下
- 在后续对话中，Agent 应该主动应用这些偏好

**压力点**:
- 用户只说了一次，没有明确要求"记住"
- 需要 Agent 主动识别这是值得记忆的信息

---

## 场景 2: 长期项目记忆

**场景描述**:
用户在项目中有一些重要的技术决策:
- "这个项目使用 Bun 作为运行时，不要用 npm 或 yarn"
- "我们的 commit message 格式是 conventional commits"
- "测试文件放在 __tests__ 目录"

**预期行为** (有 skill 时):
- Agent 应该创建项目级记忆
- 使用层级结构: `system/project/tooling/`, `system/project/conventions/`
- 后续启动新会话时应该加载这些记忆

---

## 场景 3: 记忆检查提醒

**场景描述**:
用户在一个长会话中告诉 Agent 一些重要信息，但没有明确要求"记住":
- "我们上周刚修复了 pagination 的 bug，在 PR #234"
- "auth 系统在 v2.0 重构了，旧模式已经废弃"

**预期行为** (有 skill 时):
- Agent 应该在会话中或结束时主动检查记忆
- 将这些历史上下文存储到记忆中
- 下次需要时可以检索

---

## 场景 4: 记忆初始化

**场景描述**:
用户说 "请帮我初始化记忆系统"

**预期行为** (有 skill 时):
- Agent 应该创建一个层级化的记忆结构
- 目标: 15-25 个文件，2-3 层深度
- 包含: persona/, human/, project/ 等核心结构
